# 原子操作

## `sync/atomic`包中提供了几种原子操作？可操作的数据类型又有哪些？

sync.atomic 包中 包含了 原子操作方法有:
加法(add)
比较并交换(compare and swap,简称 CAS)
加载(load)
存储(store)
和交换(swap)

可以操作的数据类型
`int32`
`int64`
`uint32`
`uint64`
`uintptr`
`unsafe.Pointer`(针对unsafe.Pointer类型,该包并未提供进行原子加法操作的函数)


##  原子操作函数 的 第一个参数为什么是指针类型的呢 ?

因为原子操作函数需要的是被操作值的指针,而不是这个值本身;
被传入函数的参数值都会被复制,像这种基本类型的值一旦被传入函数,就已经与函数外的那个值毫无关系了.所以,传入值本身没有任何意义
`unsafe.Pointer`类型虽然是指针类型,但是那些原子操作函数要操作的是这个指针值,而不是它指向的那个值,所以需要的仍然是指向这个指针值的指针

只有原子操作函数拿到了被操作值的内存地址,只有这样才能通过底层命令,准确的操作这个内存地址上的数据



## `比较并交换操作`与`交换操作`相比有什么不同？优势在哪里？




## 假设我已经保证了对一个变量的写操作都是原子操作，比如：加或减、存储、交换等等，那我对它进行读操作的时候，还有必要使用原子操作吗？

很有必要







